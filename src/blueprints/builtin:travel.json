{
  "id": "builtin:travel",
  "label": "Travel",
  "help": "Traveling information (distance, destination, means of transportationâ€¦)",
  "version": "1",
  "vizualisations": [
    {
      "label": "Travel distance",
      "help": "In kilometers",
      "query": "SELECT date, sum(CASE WHEN data->`travel:distance` > 0 THEN data->`travel:distance` ELSE 0 END) as Distance FROM ? GROUP BY date ORDER BY date DESC",
      "chartType": "bar",
      "chartOptions": {
        "colors": ["green"]
      }
    },
    {
      "label": "Means of transportation",
      "help": "In kilometers",
      "query": "SELECT data->`travel:by`, sum(data->`travel:distance`) as Distance FROM ? GROUP BY data->`travel:by` ORDER BY date DESC",
      "chartType": "pie",
      "chartOptions": {}
    },
    {
      "label": "Travels by distance and destination",
      "help": "In kilometers",
      "query": "SELECT data->`travel:from` as `From`, data->`travel:to` as `To`, sum(data->`travel:distance`) as Distance FROM ? GROUP BY data->`travel:from`, data->`travel:to` ORDER BY Distance DESC",
      "chartType": "table",
      "chartOptions": {}
    }
  ],
  "inputs": [
    {
      "id": "travel",
      "prefix": "travel",
      "fields": [
        {
          "id": "distance",
          "label": "Distance",
          "unit": "Kilometers",
          "type": "number",
          "min": 0
        },
        {
          "id": "from",
          "label": "Place of departure",
          "type": "text"
        },
        {
          "id": "to",
          "label": "Destination",
          "type": "text"
        },
        {
          "id": "by",
          "label": "Transport",
          "type": "text",
          "choices": [
            "bike",
            "boat",
            "bus",
            "car",
            "foot",
            "subway",
            "tramway",
            "train",
            "plane"
          ]
        }
      ]
    }
  ]
}